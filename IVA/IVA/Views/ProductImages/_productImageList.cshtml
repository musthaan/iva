@model IEnumerable<IVA.Models.tbl_Product_Images>
<table class="zoom-gallery table table-striped ">
    <thead>
        <tr>
            <th>
                #
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Caption)
            </th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td class=" col-md-4">
                    <div class="thumbnail col-md-8 margin-bottom-zero ">
                        <a class="image-popup" href="@Url.Content("~" + item.ImagePath)" data-source="@Url.Content("~" + item.ImagePath)"
                    title="@item.Caption" >
                            <img src="@Url.Content("~" + item.ImagePath)" >
                        </a>
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Caption)
                </td>
                <td>
                    <div class="btn-group pull-right">
                        @if (!item.IsDefault)
                        {
                            <button type="button" class="btn btn-success" rel='tooltip' title="Make it default image">
                                <i class="glyphicon glyphicon-heart"></i>
                            </button>
                         <button type="button" class="btn btn-danger" rel='tooltip' title="Delete Image">
                                <i class="glyphicon glyphicon-trash"></i>
                            </button>
                        }
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>
<style>
    .margin-bottom-zero
    {
        margin-bottom: 0px;
    }
    .zoom-gallery .thumbnail a
    {
        padding: 0px;
    }
    .image-source-link
    {
        color: #98C3D1;
    }
    
    .mfp-with-zoom .mfp-container, .mfp-with-zoom.mfp-bg
    {
        opacity: 0.001;
        -webkit-backface-visibility: hidden; /* ideally, transition speed should match zoom duration */
        -webkit-transition: all 0.3s ease-out;
        -moz-transition: all 0.3s ease-out;
        -o-transition: all 0.3s ease-out;
        transition: all 0.3s ease-out;
    }
    
    .mfp-with-zoom.mfp-ready .mfp-container
    {
        opacity: 1;
    }
    .mfp-with-zoom.mfp-ready.mfp-bg
    {
        opacity: 0.8;
    }
    
    .mfp-with-zoom.mfp-removing .mfp-container, .mfp-with-zoom.mfp-removing.mfp-bg
    {
        opacity: 0;
    }
</style>
<script src="/Scripts/popup/jquery.magnific-popup.min.js" type="text/javascript"></script>
<link href="/Content/popup/all.min.css" rel="stylesheet" type="text/css" />
<script>
    $(document).ready(function () {

        $("[rel='tooltip']").hover(
                    function () {
                        $(this).tooltip('show');
                    },
                    function () {
                        $(this).tooltip('destroy');
                    }
                );

        $('.zoom-gallery').magnificPopup({
            delegate: 'a.image-popup',
            type: 'image',
            closeOnContentClick: false,
            closeBtnInside: false,
            mainClass: 'mfp-with-zoom mfp-img-mobile',
            image: {
                verticalFit: true,
                titleSrc: function (item) {
                    return item.el.attr('title') + ' &middot; <a class="image-source-link" href="' + item.el.attr('data-source') + '" target="_blank">image source</a>';
                }
            },
            gallery: {
                enabled: true
            },
            zoom: {
                enabled: true,
                duration: 300, // don't foget to change the duration also in CSS
                opener: function (element) {
                    return element.find('img');
                }
            }

        });

    });

</script>
